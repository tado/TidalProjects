let
  scale = getScale
    (scaleTable ++ [
      ("sho", [-3, -1, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 18]),      
      ("kotsu", [-3, 4, 9, 11, 16, 18]),
      ("ichi", [-1, 2, 4, 9, 11, 18]),
      ("ku", [1, 2, 4, 8, 9, 11]),
      ("bo", [2, 4, 9, 11, 16, 18]),
      ("otsu", [4, 8, 9, 11, 13, 14]),
      ("ge", [6, 8, 9, 11, 14, 18]),
      ("ju", [6, 7, 9, 11, 14, 16]),
      ("soju", [7, 9, 11, 14, 16]),
      ("bi", [8, 9, 11, 12, 14, 18]),
      ("gyo", [9, 11, 14, 16, 18]),
      ("hi", [9, 11, 12, 14, 16, 18])
    ])

hush

do
  resetCycles
  setcps(90/240)
  let scl = "<bo ichi otsu otsu bo [ju ge] otsu otsu ichi [ichi kotsu] ichi otsu ju [ichi kotsu] otsu otsu otsu otsu ge kotsu [ichi ku] [ku ichi] kotsu kotsu>"
  d1
    $ slow 2
    $ n "<1 1 1 1 1 [1 1] 1 1>"
    # s "superhammond"    
    |+ note (scale scl "[0, 1, 2, 3, 4, 5]")
    |+ note (-0.398)
    -- |+ note 12
    -- |+ note "[0, 12]"
    --- |+ note "[-0.04, 0.04]" 
    -- # attack 1.0 # hold 2 # release 1.0
    -- # leslie 0.3 # lrate 0.2 # lsize 0.8
    # attack 2 # release 4 # lock 1 # legato 4.0
    -- # room 0.8 # size 0.8
    -- # pan (rand)
    # voice 3
    # gain 1.0  
  d2
    $ slow 2
    $ n "<1 1 1 1 1 [1 1] 1 1>"
    # s "superhammond"    
    |+ note (scale scl 0)
    |+ note (-0.398)
    |+ note "-24"
    -- |+ note "[0, 12]"
    -- |+ note (choose[-12, 0, 12])
    -- |+ note "[-0.04, 0.04]" 
    -- # attack 1.0 # hold 2 # release 1.0
    -- # leslie 0.3 # lrate 0.2 # lsize 0.8
    # attack 2 # release 4 # lock 1 # legato 4.0
    -- # room 0.8 # size 0.95
    -- # pan (rand)
    # lpf (range 200 800 $ slow 14 $ sine) # resonance 0.2
    # gain 1.0  
  d3  
    $ sometimesBy 0.5 (fast 2)
    -- $ jux (("[5, 10]"/8)~>)
    $ s "superhammond(3, 8, [0, 6])"
    |+ note (scale scl "[0, 1, 2, 3, 4, 5]")
    |+ note (-0.398)
    |+ note 12
    -- |+ note "[0, -12]"
    |+ note (choose[0, 12, 24])
    -- |+ note "[-0.04, 0.04]"
    # legato 1.5
    # leslie 0.5 # lrate 0.15 # lsize 0.8
    -- # room 0.2 # size 0.9
    # pan (rand)
    # voice 4
    # gain 1.0
  d4
    $ sometimesBy 0.4 (fast 2)
    $ jux (("[4, 9]"/8)~>)
    $ s "superrhodes(7, 8, [0, 8])"
    |+ note (scale scl (choose[0..5]))
    |+ note "[12, 0]"
    |+ note (-0.398)
    |+ note "[-0.04, 0.04]"
    # legato 1.2
    -- |- note (choose[0, 12, 24])    
    # pan (rand)
    -- # leslie 0.5 # lrate 0.2 # lsize 0.8
    # lpf (range 400 4000 $ rand) # resonance 0.2
    -- # delay 0.8 # delaytime ("[9, 5]"/8) # delayfeedback 0.5 #lock 1
    -- # room 0.1 # size 0.95
    # gain 0.6
  
  d5
    $ slow 2
    $ sometimesBy 0.3 (fast 2)
    $ s "supermoog(3, 8)"
    |+ note (scale scl (choose[0..5]))
    |- note 36
    |+ note "[-0.04, 0.04]"
    |+ note (-0.398)
    # lpf (range 100 2000 $ rand) # resonance 0.2
    # attack 2.0
    # legato 5.0
    # release 0.0
    # leslie 0.5 # lrate 0.2 # lsize 0.8
    -- # room 0.1 # size 0.9
    # gain 1.5    
  d6
    -- $ sometimesBy 0.3 (chop (irand 32))
    $ sometimesBy 0.5 (jux (iter 16))
    $ sometimesBy 0.7 (fast 2)
    $ s "uni(3, 8, 5)"
    -- # speed (choose[1.0, 1.5, 0.75, 2.0, 0.5])
    # n (range 0 3 $ rand)
    -- # room 0.5 # size 0.5
    # gain 1.9  
  d7
    $ sometimesBy 0.8 (fast 2)
    $ s "[uni(3, 8), uni:1(3, 8, 1)]"
    # gain 2

unsolo 2

d1 silence >> d2 silence >> d3 silence >> d4 silence >> d5 silence

 >> d6 silence


hush


